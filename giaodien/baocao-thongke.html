<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chức năng Báo cáo - Thống kê</title>
  <link rel="stylesheet" href="baocao-thongke.css">
</head>
<body>
  <h1>Báo cáo - Thống kê</h1>
  <div class="tabs">
    <div class="tab active" data-tab="chamcong">Báo cáo chấm công</div>
    <div class="tab" data-tab="doanhthu">Báo cáo doanh thu</div>
    <div class="tab" data-tab="kpi">Báo cáo KPI</div>
  </div>

  <div id="chamcong" class="content active">
    <h2>Báo cáo chấm công</h2>
    <label>Chọn tháng</label>
    <input type="month" id="cc_month">
    <button onclick="xemChamCong()">Xem báo cáo</button>
    <div id="cc_result"></div>
  </div>

  <div id="doanhthu" class="content">
    <h2>Báo cáo doanh thu</h2>
    <label>Chọn tháng</label>
    <input type="month" id="dt_month">
    <label>Hoặc chọn quý</label>
    <select id="dt_quarter">
      <option value="">-- Chọn quý --</option>
      <option value="Q1">Quý 1</option>
      <option value="Q2">Quý 2</option>
      <option value="Q3">Quý 3</option>
      <option value="Q4">Quý 4</option>
    </select>
    <label>Năm</label>
    <input type="number" id="dt_year" placeholder="Nhập năm">
    <button onclick="xemDoanhThu()">Xem báo cáo</button>
    <div id="dt_result"></div>
  </div>

  <div id="kpi" class="content">
    <h2>Báo cáo KPI</h2>
    <label>Loại báo cáo</label>
    <select id="kpi_type">
      <option value="caNhan">Cá nhân</option>
      <option value="phongBan">Phòng ban</option>
    </select>
    <label>Khoảng thời gian</label>
    <input type="month" id="kpi_month">
    <button onclick="xemKPI()">Xem báo cáo</button>
    <div id="kpi_result"></div>
  </div>

  <script>
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.content');

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        contents.forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    function xemChamCong() {
      const month = document.getElementById('cc_month').value;
      const result = document.getElementById('cc_result');
      if (!month) {
        result.innerHTML = '<p>Vui lòng chọn tháng.</p>';
        return;
      }
      // Giả sử có dữ liệu
      result.innerHTML = `
        <table>
          <tr><th>Nhân viên</th><th>Ngày làm</th><th>Số giờ</th></tr>
          <tr><td>Nguyễn Văn A</td><td>20</td><td>160</td></tr>
          <tr><td>Trần Thị B</td><td>18</td><td>144</td></tr>
        </table>`;
    }

    function xemDoanhThu() {
      const month = document.getElementById('dt_month').value;
      const quarter = document.getElementById('dt_quarter').value;
      const year = document.getElementById('dt_year').value;
      const result = document.getElementById('dt_result');

      if (!month && (!quarter || !year)) {
        result.innerHTML = '<p>Vui lòng chọn tháng hoặc quý/năm.</p>';
        return;
      }
      // Giả sử có dữ liệu
      result.innerHTML = `
        <table>
          <tr><th>Tháng/Quý</th><th>Doanh thu</th></tr>
          <tr><td>${month || (quarter + ' - ' + year)}</td><td>500,000,000 VND</td></tr>
        </table>`;
    }

    function xemKPI() {
      const type = document.getElementById('kpi_type').value;
      const month = document.getElementById('kpi_month').value;
      const result = document.getElementById('kpi_result');
      if (!month) {
        result.innerHTML = '<p>Vui lòng chọn thời gian.</p>';
        return;
      }
      // Giả sử có dữ liệu
      result.innerHTML = `
        <table>
          <tr><th>${type === 'caNhan' ? 'Nhân viên' : 'Phòng ban'}</th><th>KPI</th></tr>
          <tr><td>${type === 'caNhan' ? 'Nguyễn Văn A' : 'Phòng Kinh doanh'}</td><td>95%</td></tr>
        </table>`;
    }
  </script>
</body>
</html>
